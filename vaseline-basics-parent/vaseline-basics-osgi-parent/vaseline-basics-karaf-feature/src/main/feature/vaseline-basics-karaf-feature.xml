<?xml version="1.0" encoding="UTF-8"?>
<features name="${project.artifactId}-${project.version}" xmlns="http://karaf.apache.org/xmlns/features/v1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://karaf.apache.org/xmlns/features/v1.0.0
http://karaf.apache.org/xmlns/features/v1.0.0 ">
    <repository>mvn:org.hibernate.validator/hibernate-validator-osgi-karaf-features/${hibernate-validator.version}/xml/features</repository>
    <!--<repository>mvn:org.apache.karaf.cellar/apache-karaf-cellar/4.0.0/xml/features</repository>-->

    <feature name="ir.amv.os.vaseline.thirdparty.shared.util.reflection" version="${project.version}">
        <bundle>mvn:com.github.amirmv2006.thirdparty/ir.amv.os.vaseline.thirdparty.shared.util.reflection/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.cache.api" version="${project.version}">
        <bundle>mvn:javax.cache/cache-api/${javax-cache.version}</bundle>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.cache.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.i18n.api" version="${project.version}">
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.i18n.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.jdbc.api" version="${project.version}">
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.jdbc.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.json.api" version="${project.version}">
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.json.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.logging.api" version="${project.version}">
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.logging.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.logging.def" version="${project.version}">
        <feature>ir.amv.os.vaseline.basics.logging.api</feature>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.logging.def/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.core.api" version="${project.version}">
        <feature>ir.amv.os.vaseline.thirdparty.shared.util.reflection</feature>
        <feature>ir.amv.os.vaseline.basics.i18n.api</feature>
        <bundle dependency="true">mvn:javax.validation/validation-api/${javax-validation.version}</bundle>
        <bundle dependency="true">mvn:joda-time/joda-time/${joda-time.version}</bundle>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.core.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.dao.api" version="${project.version}">
        <feature>ir.amv.os.vaseline.basics.core.api</feature>
        <bundle>mvn:javax.persistence/javax.persistence-api/${javax-persistence.version}</bundle>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.dao.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.mapper.api" version="${project.version}">
        <feature>ir.amv.os.vaseline.basics.core.api</feature>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.mapper.api/${project.version}</bundle>
    </feature>
    <feature name="ir.amv.os.vaseline.basics.validation.api" version="${project.version}">
        <feature>ir.amv.os.vaseline.basics.core.api</feature>
        <bundle>mvn:com.github.amirmv2006.basics.apis/ir.amv.os.vaseline.basics.validation.api/${project.version}</bundle>
    </feature>

    <feature name="hazelcast" description="In memory data grid" version="3.8.5">
        <!--<configfile finalname="/etc/hazelcast.xml">mvn:org.apache.karaf.cellar/apache-karaf-cellar/4.1.1/xml/hazelcast</configfile>-->
        <bundle>mvn:org.apache.geronimo.specs/geronimo-jta_1.1_spec/${geronimo-jta_1.1_spec.version}</bundle>
        <bundle>mvn:com.eclipsesource.minimal-json/minimal-json/${minimal-json.version}</bundle>
        <bundle>mvn:com.hazelcast/hazelcast-all/${hazelcast.version}</bundle>
    </feature>

    <!-- impl features -->
    <feature name="vaseline-basics-base-bundle" version="${project.version}">
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.base.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-cache-hazelcast" version="${project.version}">
        <feature>hazelcast</feature>
        <feature>ir.amv.os.vaseline.basics.cache.api</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.cache.hazelcast.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-i18n" version="${project.version}">
        <feature>scr</feature>
        <feature>ir.amv.os.vaseline.basics.i18n.api</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.i18n.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-validation-hibernate-validator" version="${project.version}">
        <feature version="${hibernate-validator.version}">hibernate-validator</feature>
        <feature>ir.amv.os.vaseline.basics.validation.api</feature>
        <bundle dependency="true">mvn:javax.annotation/javax.annotation-api/${javax-annotation.version}</bundle>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.validation.hibval.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-mapper-dozer" version="${project.version}">
        <feature>scr</feature>
        <feature>ir.amv.os.vaseline.basics.mapper.api</feature>
        <bundle dependency="true">mvn:org.apache.commons/commons-lang3/${commons-lang3.version}</bundle>
        <bundle dependency="true">mvn:commons-collections/commons-collections/${commons-collections.version}</bundle>
        <bundle dependency="true">mvn:commons-beanutils/commons-beanutils/${commons-beanutils.version}</bundle>
        <bundle dependency="true">mvn:com.github.dozermapper/dozer-core/${com.github.dozermapper.version}</bundle>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.mapper.dozer.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-logging-common" version="${project.version}" start-level="20">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.logging.def</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.logging.common.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-logger-slf4j" version="${project.version}" start-level="10">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.logging.def</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.logging.slf4j.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-logging-log-service" version="${project.version}" start-level="10">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.logging.def</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.logging.loggingservice.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-basics-logging-pax-logging" version="${project.version}" start-level="10">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.logging.def</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.logging.pax.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-core" version="${project.version}">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.core.api</feature>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.core.osgi/${project.version}</bundle>
    </feature>
    <feature name="vaseline-json-gson" version="${project.version}">
        <feature>scr</feature>
        <feature>vaseline-basics-base-bundle</feature>
        <feature>ir.amv.os.vaseline.basics.json.api</feature>
        <feature>ir.amv.os.vaseline.basics.core.api</feature>
        <bundle dependency="true">mvn:com.google.code.gson/gson/${gson.version}</bundle>
        <bundle>mvn:${project.groupId}/ir.amv.os.vaseline.basics.json.gson.osgi/${project.version}</bundle>
    </feature>

    <feature name='${project.artifactId}' description='${project.name}' version='${project.version}' start-level="50">
        <details>${project.description}</details>
        <!-- api beans -->
        <feature>ir.amv.os.vaseline.basics.jdbc.api</feature>
        <feature>ir.amv.os.vaseline.basics.dao.api</feature>

        <feature version="3.8.5">hazelcast</feature>
        <!--impl beans-->
        <feature>vaseline-basics-cache-hazelcast</feature>
        <feature>vaseline-basics-i18n</feature>
        <feature>vaseline-basics-mapper-dozer</feature>
        <feature>vaseline-basics-logging-pax-logging</feature>
        <feature>vaseline-basics-logging-common</feature>
        <feature>vaseline-core</feature>
        <feature>vaseline-json-gson</feature>
        <feature>vaseline-basics-validation-hibernate-validator</feature>
    </feature>

</features>